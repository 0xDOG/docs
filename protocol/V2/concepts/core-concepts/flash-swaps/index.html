<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-128182339-7","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Uniswap" href="/opensearch.xml"><title data-react-helmet="true">Flash Swaps | Uniswap</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.uniswap.org//protocol/V2/concepts/core-concepts/flash-swaps"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="V2"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-V2"><meta data-react-helmet="true" property="og:title" content="Flash Swaps | Uniswap"><meta data-react-helmet="true" name="description" content="Uniswap flash swaps allow you to withdraw up to the full reserves of any ERC20 token on Uniswap and execute arbitrary logic at no upfront cost, provided that by the end of the transaction you either:"><meta data-react-helmet="true" property="og:description" content="Uniswap flash swaps allow you to withdraw up to the full reserves of any ERC20 token on Uniswap and execute arbitrary logic at no upfront cost, provided that by the end of the transaction you either:"><meta data-react-helmet="true" property="og:image" content="https://docs.uniswap.org//img/twitter_card_bg.jpg"><meta data-react-helmet="true" name="twitter:image" content="https://docs.uniswap.org//img/twitter_card_bg.jpg"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.uniswap.org//protocol/V2/concepts/core-concepts/flash-swaps"><link data-react-helmet="true" rel="alternate" href="https://docs.uniswap.org//protocol/V2/concepts/core-concepts/flash-swaps" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.uniswap.org//protocol/V2/concepts/core-concepts/flash-swaps" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://S0IDD0YGLZ-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.57c49a8b.css">
<link rel="preload" href="/assets/js/runtime~main.54bc8eea.js" as="script">
<link rel="preload" href="/assets/js/main.6d653040.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP shadow--md">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/uni_dark_icon.svg" alt="Uniswap Unicorn" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/uni_dark_icon.svg" alt="Uniswap Unicorn" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Uniswap Docs</b></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link persistent V2" href="/protocol/V2/introduction">V2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/protocol/introduction">V3</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/protocol/V2/concepts/core-concepts/flash-swaps">V2</a></li><li><a class="dropdown__link" href="/protocol/V1/introduction">V1</a></li></ul></div><a class="navbar__item navbar__link V3_active V2" href="/protocol/reference/smart-contracts">Contracts</a><a class="navbar__item navbar__link V3_active V2" href="/sdk/introduction">SDK</a><a class="navbar__item navbar__link V3_active V2" href="/sdk/Subgraph data">Subgraph (API)</a><a class="navbar__item navbar__link V3_active V2" href="/protocol/concepts/governance/overview">Governance</a><a class="navbar__item navbar__link V2_active V2" href="/protocol/V2/guides/smart-contract-integration/quick-start">Contracts</a><a class="navbar__item navbar__link V2_active V2" href="/sdk/2.0.0/introduction">SDK</a><a class="navbar__item navbar__link V2_active V2" href="/protocol/V2/reference/API/overview">Subgraph (API)</a><a class="navbar__item navbar__link V2_active V2" href="/protocol/V2/concepts/governance/overview">Governance</a><a class="navbar__item navbar__link V1_active V2" href="/protocol/V1/guides/connect-to-uniswap">Contracts</a><a class="navbar__item navbar__link V1_active V2" href="/sdk/1.0.0/introduction">SDK</a></div><div class="navbar__items navbar__items--right"><a href="https://uniswap.org/whitepaper-v3.pdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link persistent V2">Whitepaper</a><a href="https://github.com/uniswap/uniswap-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link persistent V2"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://unigrants.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link persistent V2"><span>Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link undefined V2"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/protocol/V2/concepts/core-concepts/flash-swaps" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="https://my-site.com/help-us-translate" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">☽</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">☼</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/uni_dark_icon.svg" alt="Uniswap Unicorn" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/uni_dark_icon.svg" alt="Uniswap Unicorn" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Uniswap Docs</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist persistent V2">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/protocol/introduction">V3</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/protocol/V2/concepts/core-concepts/flash-swaps">V2</a></li><li class="menu__list-item"><a class="menu__link" href="/protocol/V1/introduction">V1</a></li></ul></li><li class="menu__list-item"><a class="menu__link V3_active V2" href="/protocol/reference/smart-contracts">Contracts</a></li><li class="menu__list-item"><a class="menu__link V3_active V2" href="/sdk/introduction">SDK</a></li><li class="menu__list-item"><a class="menu__link V3_active V2" href="/sdk/Subgraph data">Subgraph (API)</a></li><li class="menu__list-item"><a class="menu__link V3_active V2" href="/protocol/concepts/governance/overview">Governance</a></li><li class="menu__list-item"><a class="menu__link V2_active V2" href="/protocol/V2/guides/smart-contract-integration/quick-start">Contracts</a></li><li class="menu__list-item"><a class="menu__link V2_active V2" href="/sdk/2.0.0/introduction">SDK</a></li><li class="menu__list-item"><a class="menu__link V2_active V2" href="/protocol/V2/reference/API/overview">Subgraph (API)</a></li><li class="menu__list-item"><a class="menu__link V2_active V2" href="/protocol/V2/concepts/governance/overview">Governance</a></li><li class="menu__list-item"><a class="menu__link V1_active V2" href="/protocol/V1/guides/connect-to-uniswap">Contracts</a></li><li class="menu__list-item"><a class="menu__link V1_active V2" href="/sdk/1.0.0/introduction">SDK</a></li><li class="menu__list-item"><a href="https://uniswap.org/whitepaper-v3.pdf" target="_blank" rel="noopener noreferrer" class="menu__link persistent V2">Whitepaper</a></li><li class="menu__list-item"><a href="https://github.com/uniswap/uniswap-docs" target="_blank" rel="noopener noreferrer" class="menu__link persistent V2"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://unigrants.org/" target="_blank" rel="noopener noreferrer" class="menu__link persistent V2"><span>Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist undefined V2"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/protocol/V2/concepts/core-concepts/flash-swaps" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="https://my-site.com/help-us-translate" target="_blank" rel="noopener noreferrer" class="menu__link">Help us translate</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/protocol/V2/introduction">The Uniswap V2 Protocol</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Protocol Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/protocol-overview/how-uniswap-works">How Uniswap works</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/protocol-overview/ecosystem-participants">Ecosystem Participants</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/protocol-overview/smart-contracts">Smart contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/protocol-overview/glossary">Glossary</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Core Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protocol/V2/concepts/core-concepts/swaps">Swaps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protocol/V2/concepts/core-concepts/pools">Pools</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/protocol/V2/concepts/core-concepts/flash-swaps">Flash Swaps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protocol/V2/concepts/core-concepts/oracles">Oracles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Advanced Topics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/advanced-topics/fees">Fees</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/advanced-topics/pricing">Pricing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/advanced-topics/understanding-returns">Understanding Returns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/advanced-topics/security">Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/advanced-topics/math">Math</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/advanced-topics/research">Research</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Governance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/governance/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/governance/process">Process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/governance/guide-to-voting">Beginners Guide to Voting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/governance/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/concepts/governance/adversarial-circumstances">Adversarial Circumstances</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Interface Integration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/interface-integration/using-the-api">Using the API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/interface-integration/custom-interface-linking">Custom Linking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/interface-integration/iframe-integration">Iframe Integration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Smart Contract Integration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/smart-contract-integration/quick-start">Smart Contract Quick start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/smart-contract-integration/trading-from-a-smart-contract">Implement a Swap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/smart-contract-integration/providing-liquidity">Providing Liquidity</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/smart-contract-integration/building-an-oracle">Building an Oracle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/smart-contract-integration/using-flash-swaps">Flash Swaps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/smart-contract-integration/getting-pair-addresses">Pair Addresses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/guides/smart-contract-integration/supporting-meta-transactions">Supporting meta transactions</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Technical Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/API/overview">API Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/API/entities">Entities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/API/queries">Queries</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Governance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/Governance/governance-reference">Governance Reference</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Smart Contracts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/smart-contracts/factory">Factory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/smart-contracts/pair">Pair</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/smart-contracts/Pair-ERC-20">Pair (ERC-20)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/smart-contracts/library">Library</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/smart-contracts/router-01">Router01</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/smart-contracts/router-02">Router02</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/protocol/V2/reference/smart-contracts/common-errors">Common Errors</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Uniswap <strong>V2</strong>, a previously released version of the Uniswap protocol.</div><div class="margin-top--md">For the most recent version, see <strong><a href="/protocol/introduction">latest version</a></strong> (V3).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: V2</span><div class="markdown"><header><h1 class="h1Heading_27L5">Flash Swaps</h1></header><p>Uniswap flash swaps allow you to withdraw up to the full reserves of any ERC20 token on Uniswap and execute arbitrary logic at no upfront cost, provided that by the end of the transaction you either:</p><ul><li>pay for the withdrawn ERC20 tokens with the corresponding pair tokens</li><li>return the withdrawn ERC20 tokens along with a small fee</li></ul><p>Flash swaps are incredibly useful because they obviate upfront capital requirements and unnecessary order-of-operations constraints for multi-step transactions involving Uniswap.</p><header><h1 class="h1Heading_27L5">Examples</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="capital-free-arbitrage"></a>Capital Free Arbitrage<a class="hash-link" href="#capital-free-arbitrage" title="Direct link to heading">#</a></h2><p>One particularly interesting use case for flash swaps is capital-free arbitrage. It&#x27;s well-known that an integral part of Uniswap&#x27;s design is to create incentives for arbitrageurs to trade the Uniswap price to a &quot;fair&quot; market price. While game-theoretically sound, this strategy is accessible only to those with sufficient capital to take advantage of arbitrage opportunities. Flash swaps remove this barrier entirely, effectively democratizing arbitrage.</p><p>Imagine a scenario where the cost of buying 1 ETH on Uniswap is 200 DAI (which is calculated by calling <code>getAmountIn</code> with 1 ETH specified as an exact output), and on Oasis (or any other trading venue), 1 ETH buys 220 DAI. To anyone with 200 DAI available, this situation represents a risk-free profit of 20 DAI. Unfortunately, you may not have 200 DAI lying around. With flash swaps, however, this risk-free profit is available for anyone to take as long as they&#x27;re able to pay gas fees.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="withdrawing-eth-from-uniswap"></a>Withdrawing ETH from Uniswap<a class="hash-link" href="#withdrawing-eth-from-uniswap" title="Direct link to heading">#</a></h3><p>The first step is to <em>optimistically</em> withdraw 1 ETH from Uniswap via a flash swap. This will serve as the capital that we use to execute our arbitrage. Note that in this scenario, we&#x27;re assuming that:</p><ul><li>1 ETH is the pre-calculated profit-maximizing trade</li><li>The price has not changed on Uniswap or Oasis since our calculation</li></ul><p>It may be the case that we&#x27;d like to calculate the profit-maximizing trade on-chain at the moment of execution, which is robust to price movements. This can be somewhat complex, depending on the strategy being executed. However, one common strategy is trading as profitably as possible <em>against a fixed external price</em>. (This price may be e.g., the average execution price of one or more orders on Oasis.) If the Uniswap market price is far enough above or below this external price, the following example contains code that calculates the amount to trade over Uniswap for maximum profit: <a href="https://github.com/Uniswap/uniswap-v2-periphery/blob/master/contracts/examples/ExampleSwapToPrice.sol" target="_blank" rel="noopener noreferrer"><code>ExampleSwapToPrice.sol</code></a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="trade-at-external-venue"></a>Trade at External Venue<a class="hash-link" href="#trade-at-external-venue" title="Direct link to heading">#</a></h3><p>Once we&#x27;ve obtained our temporary capital of 1 ETH from Uniswap, we now can trade this for 220 DAI on Oasis. Once we&#x27;ve received the DAI, we need to pay Uniswap back. We&#x27;ve mentioned that the amount required to cover 1 ETH is 200 DAI, calculated via <code>getAmountIn</code>. So, after sending 200 of the DAI back to the Uniswap pair, you&#x27;re left with 20 DAI of profit!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="instant-leverage"></a>Instant Leverage<a class="hash-link" href="#instant-leverage" title="Direct link to heading">#</a></h2><p>Flash swaps can be used to improve the efficiency of levering up using lending protocols and Uniswap.</p><p>Consider Maker in its simplest form: a system which accepts ETH as collateral and allows DAI to be minted against it while ensuring that the value of the ETH never drops below 150% of the value of the DAI.</p><p>Say we use this system to deposit a principal amount of 3 ETH, and mint the maximum amount of DAI. At a price of 1 ETH / 200 DAI, we receive 400 DAI. In theory, we could lever this position up by selling the DAI for more ETH, depositing this ETH, minting the maximum amount of DAI (which would be less this time), and repeating until we&#x27;ve reached our desired leverage level.</p><p>It&#x27;s quite simple to use Uniswap as a liquidity source for the DAI-to-ETH component of this process. However, looping through protocols in this way isn&#x27;t particularly elegant, and can be gas-intensive.</p><p>Luckily, flash swaps enable us to withdraw the <em>full</em> ETH amount upfront. If we wanted 2x leverage against our 3 ETH principal, we could simply request 3 ETH in a flash swap and deposit 6 ETH into Maker. This gives us the ability to mint 800 DAI. If we mint as much as we need to cover our flash swap (say 605), the remainder serves as a safety margin against price movements.</p><header><h1 class="h1Heading_27L5">Developer resources</h1></header><ul><li>To see how to integrate a flash swap in your smart contract read <a href="/protocol/V2/guides/smart-contract-integration/using-flash-swaps">Using Flash Swaps</a>.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/uniswap/uniswap-docs/tree/main/versioned_docs/version-V2/concepts/02-core-concepts/03-flash-swaps.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/protocol/V2/concepts/core-concepts/pools"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Pools</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/protocol/V2/concepts/core-concepts/oracles"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Oracles »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#capital-free-arbitrage" class="table-of-contents__link">Capital Free Arbitrage</a><ul><li><a href="#withdrawing-eth-from-uniswap" class="table-of-contents__link">Withdrawing ETH from Uniswap</a></li><li><a href="#trade-at-external-venue" class="table-of-contents__link">Trade at External Venue</a></li></ul></li><li><a href="#instant-leverage" class="table-of-contents__link">Instant Leverage</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Uniswap/uniswap-v3-periphery/blob/main/bug-bounty.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bug Bounty</a></li><li class="footer__item"><a href="https://discord.gg/ybKVQUWb4s" target="_blank" rel="noopener noreferrer" class="footer__link-item">#dev-chat</a></li><li class="footer__item"><a href="https://uniswap.org/whitepaper-v3.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Whitepaper</a></li></ul></div><div class="col footer__col"><div class="footer__title">Github</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Uniswap/uniswap-v3-core" target="_blank" rel="noopener noreferrer" class="footer__link-item">uniswap-v3-core</a></li><li class="footer__item"><a href="https://github.com/Uniswap/uniswap-v3-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">uniswap-v3-sdk</a></li><li class="footer__item"><a href="https://github.com/Uniswap/uniswap-v3-periphery" target="_blank" rel="noopener noreferrer" class="footer__link-item">uniswap-v3-periphery</a></li><li class="footer__item"><a href="https://github.com/Uniswap/uniswap-v3-periphery/blob/main/deploys.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Deployment addresses</a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items"><li class="footer__item"><a href="https://uniswap.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home</a></li><li class="footer__item"><a href="https://app.uniswap.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">App</a></li><li class="footer__item"><a href="https://info.uniswap.org/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">Analytics</a></li><li class="footer__item"><a href="https://tokenlists.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Token Lists</a></li><li class="footer__item"><a href="https://uniswap.org/Uniswap_brand_assets.zip" target="_blank" rel="noopener noreferrer" class="footer__link-item">Brand Assets</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://gov.uniswap.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Governance</a></li><li class="footer__item"><a href="https://discord.gg/ybKVQUWb4s" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/Uniswap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://uniswap.org/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.54bc8eea.js"></script>
<script src="/assets/js/main.6d653040.js"></script>
</body>
</html>