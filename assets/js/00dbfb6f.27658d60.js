(self.webpackChunkuniswap=self.webpackChunkuniswap||[]).push([[509],{2919:function(e,t,i){"use strict";i.r(t),i.d(t,{frontMatter:function(){return a},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return l},default:function(){return u}});var n=i(2122),r=i(9756),o=(i(7294),i(3905)),a={id:"concentrated-liquidity",title:"Concentrated Liquidity"},s=void 0,c={unversionedId:"concepts/V3-overview/concentrated-liquidity",id:"version-V3/concepts/V3-overview/concentrated-liquidity",isDocsHomePage:!1,title:"Concentrated Liquidity",description:"Your browser does not support the video tag.",source:"@site/versioned_docs/version-V3/concepts/V3-overview/concentrated-liquidity.md",sourceDirName:"concepts/V3-overview",slug:"/concepts/V3-overview/concentrated-liquidity",permalink:"/protocol/concepts/V3-overview/concentrated-liquidity",editUrl:"https://github.com/uniswap/uniswap-docs/tree/main/versioned_docs/version-V3/concepts/V3-overview/concentrated-liquidity.md",version:"V3",frontMatter:{id:"concentrated-liquidity",title:"Concentrated Liquidity"},sidebar:"version-V3/mySidebar",previous:{title:"What Is Uniswap?",permalink:"/protocol/introduction"},next:{title:"Fees",permalink:"/protocol/concepts/V3-overview/fees"}},l=[{value:"Introduction",id:"introduction",children:[]},{value:"Active Liquidity",id:"active-liquidity",children:[]},{value:"Ticks",id:"ticks",children:[]}],p={toc:l};function u(e){var t=e.components,i=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("div",null,(0,o.kt)("video",{width:"100%",height:"100%",playsInline:!0,controls:!0,loop:!0},(0,o.kt)("source",{src:"https://gateway.pinata.cloud/ipfs/QmTf6EueKk5ZJ2KQwt1ZCHxRaogYVRci2U5uKRo8NeCmoB"}),"Your browser does not support the video tag.")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"The defining idea of Uniswap v3 is concentrated liquidity: liquidity that is allocated within a custom price range.\nIn earlier versions, liquidity was distributed uniformly along the price curve between 0 and infinity."),(0,o.kt)("p",null,"The previously uniform distribution allowed trading across the entire price interval (0, \u221e) without any loss of liquidity. However, in many pools, the majority of the liquidity was never used."),(0,o.kt)("p",null,"Consider stablecoin pairs, where the relative price of the two assets stays relatively constant. The liquidity outside the typical price range of a stablecoin pair is rarely touched. For example, the v2 DAI/USDC pair utilizes ~0.50% of the total available capital for trading between $0.99 and $1.01, the price range in which LPs would expect to see the most volume - and consequently earn the most fees."),(0,o.kt)("p",null,"With v3, liquidity providers may concentrate their capital to smaller price intervals than (0, \u221e). In a stablecoin/stablecoin pair, for example, an LP may choose to allocate capital solely to the 0.99 - 1.01 range. As a result, traders are offered deeper liquidity around the mid-price, and LPs earn more trading fees with their capital. We call liquidity concentrated to a finite interval a position. LPs may have many different positions per pool, creating individualized price curves that reflect the preferences of each LP."),(0,o.kt)("h2",{id:"active-liquidity"},"Active Liquidity"),(0,o.kt)("p",null,"As the price of an asset rises or falls, it may exit the price bounds that LPs have set in a position. When the price exits a position's interval, the position's liquidity is no longer active and no longer earns fees."),(0,o.kt)("p",null,"As price moves in one direction, LPs gain more of the one asset as swappers demand the other, until their entire liquidity consists of only one asset. (In v2, we don't typically see this behavior because LPs rarely reach the upper or lower bound of the price of two assets, i.e., 0 and \u221e). If the price ever reenters the interval, the liquidity becomes active again, and in-range LPs begin earning fees once more."),(0,o.kt)("p",null,"Importantly, LPs are free to create as many positions as they see fit, each with its own price interval. Concentrated liquidity serves as a mechanism to let the market decide what a sensible distribution of liquidity is, as rational LPs are incentivized to concentrate their liquidity while ensuring that their liquidity remains active."),(0,o.kt)("h2",{id:"ticks"},"Ticks"),(0,o.kt)("p",null,"To achieve concentrated liquidity, the once continuous spectrum of price space has been partitioned with ticks."),(0,o.kt)("p",null,"Ticks are the boundaries between discrete areas in price space. Ticks are spaced such that an increase or decrease of 1 tick represents a 0.0001% increase or decrease in price at any point in price space."),(0,o.kt)("p",null,"Ticks function as boundaries for liquidity positions. When a position is created, the provider must choose the lower and upper tick that will represent their position's borders."),(0,o.kt)("p",null,"As the spot price changes during swapping, the pool contract will continuously exchange the outbound asset for the inbound, progressively using all the liquidity available within the current tick interval","[1]"," until the next tick is reached. At this point, the contract switches to a new tick and activates any dormant liquidity within a position that has a boundary at the newly active tick."),(0,o.kt)("p",null,"While each pool has the same number of underlying ticks, in practice only a portion of them are able to serve as active ticks. Due to the nature of the v3 smart contracts, tick spacing is directly correlated to the swap fee. Lower fee tiers allow closer potentially active ticks, and higher fees allow a relatively wider spacing of potential active ticks."),(0,o.kt)("p",null,"While inactive ticks have no impact on transaction cost during swaps, crossing an active tick does increase the cost of the transaction in which it is crossed, as the tick crossing will activate the liquidity within any new positions using the given tick as a border."),(0,o.kt)("p",null,"In areas where capital efficiency is paramount, such as stable coin pairs, narrower tick spacing increases the granularity of liquidity provisioning and will likely lower price impact when swapping - the result being significantly improved prices for stable coin swaps."),(0,o.kt)("p",null,"For more information on fee levels and their correlation to tick spacing, see the ",(0,o.kt)("a",{parentName:"p",href:"https://uniswap.org/whitepaper-v3.pdf"},(0,o.kt)("strong",{parentName:"a"},"whitepaper."))))}u.isMDXComponent=!0},3905:function(e,t,i){"use strict";i.d(t,{Zo:function(){return p},kt:function(){return h}});var n=i(7294);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),i=t;return e&&(i="function"==typeof e?e(t):a(a({},t),e)),i},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var i=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(i),h=r,y=d["".concat(c,".").concat(h)]||d[h]||u[h]||o;return i?n.createElement(y,a(a({ref:t},p),{},{components:i})):n.createElement(y,a({ref:t},p))}));function h(e,t){var i=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=i.length,a=new Array(o);a[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var l=2;l<o;l++)a[l]=i[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,i)}d.displayName="MDXCreateElement"}}]);