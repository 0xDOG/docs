(self.webpackChunkuniswap=self.webpackChunkuniswap||[]).push([[7476],{7971:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return l},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return c},default:function(){return k}});var r=n(2122),i=n(9756),a=(n(7294),n(3905)),l={},o=void 0,p={unversionedId:"reference/core/libraries/TickBitmap",id:"version-V3/reference/core/libraries/TickBitmap",isDocsHomePage:!1,title:"TickBitmap",description:"Stores a packed mapping of tick index to its initialized state",source:"@site/versioned_docs/version-V3/reference/core/libraries/TickBitmap.md",sourceDirName:"reference/core/libraries",slug:"/reference/core/libraries/TickBitmap",permalink:"/protocol/reference/core/libraries/TickBitmap",editUrl:"https://github.com/uniswap/uniswap-docs/tree/main/versioned_docs/version-V3/reference/core/libraries/TickBitmap.md",version:"V3",frontMatter:{},sidebar:"version-V3/mySidebar",previous:{title:"Tick",permalink:"/protocol/reference/core/libraries/Tick"},next:{title:"TickMath",permalink:"/protocol/reference/core/libraries/TickMath"}},c=[{value:"Functions",id:"functions",children:[{value:"flipTick",id:"fliptick",children:[]},{value:"nextInitializedTickWithinOneWord",id:"nextinitializedtickwithinoneword",children:[]}]}],d={toc:c};function k(t){var e=t.components,n=(0,i.Z)(t,["components"]);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Stores a packed mapping of tick index to its initialized state"),(0,a.kt)("p",null,"The mapping uses int16 for keys since ticks are represented as int24 and there are 256 (2^8) values per word."),(0,a.kt)("h2",{id:"functions"},"Functions"),(0,a.kt)("h3",{id:"fliptick"},"flipTick"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"  function flipTick(\n    mapping(int16 => uint256) self,\n    int24 tick,\n    int24 tickSpacing\n  ) internal\n")),(0,a.kt)("p",null,"Flips the initialized state for a given tick from false to true, or vice versa"),(0,a.kt)("h4",{id:"parameters"},"Parameters:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"self")),(0,a.kt)("td",{parentName:"tr",align:"left"},"mapping(int16 => uint256)"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The mapping in which to flip the tick")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"tick")),(0,a.kt)("td",{parentName:"tr",align:"left"},"int24"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The tick to flip")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"tickSpacing")),(0,a.kt)("td",{parentName:"tr",align:"left"},"int24"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The spacing between usable ticks")))),(0,a.kt)("h3",{id:"nextinitializedtickwithinoneword"},"nextInitializedTickWithinOneWord"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"  function nextInitializedTickWithinOneWord(\n    mapping(int16 => uint256) self,\n    int24 tick,\n    int24 tickSpacing,\n    bool lte\n  ) internal view returns (int24 next, bool initialized)\n")),(0,a.kt)("p",null,"Returns the next initialized tick contained in the same word (or adjacent word) as the tick that is either\nto the left (less than or equal to) or right (greater than) of the given tick"),(0,a.kt)("h4",{id:"parameters-1"},"Parameters:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"self")),(0,a.kt)("td",{parentName:"tr",align:"left"},"mapping(int16 => uint256)"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The mapping in which to compute the next initialized tick")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"tick")),(0,a.kt)("td",{parentName:"tr",align:"left"},"int24"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The starting tick")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"tickSpacing")),(0,a.kt)("td",{parentName:"tr",align:"left"},"int24"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The spacing between usable ticks")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"lte")),(0,a.kt)("td",{parentName:"tr",align:"left"},"bool"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Whether to search for the next initialized tick to the left (less than or equal to the starting tick)")))),(0,a.kt)("h4",{id:"return-values"},"Return Values:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"next")),(0,a.kt)("td",{parentName:"tr",align:"left"},"int24"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The next initialized or uninitialized tick up to 256 ticks away from the current tick")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"initialized")),(0,a.kt)("td",{parentName:"tr",align:"left"},"bool"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Whether the next tick is initialized, as the function only searches within up to 256 ticks")))))}k.isMDXComponent=!0},3905:function(t,e,n){"use strict";n.d(e,{Zo:function(){return d},kt:function(){return s}});var r=n(7294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var p=r.createContext({}),c=function(t){var e=r.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},d=function(t){var e=c(t.components);return r.createElement(p.Provider,{value:e},t.children)},k={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var n=t.components,i=t.mdxType,a=t.originalType,p=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),m=c(n),s=i,f=m["".concat(p,".").concat(s)]||m[s]||k[s]||a;return n?r.createElement(f,l(l({ref:e},d),{},{components:n})):r.createElement(f,l({ref:e},d))}));function s(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var a=n.length,l=new Array(a);l[0]=m;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o.mdxType="string"==typeof t?t:i,l[1]=o;for(var c=2;c<a;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);